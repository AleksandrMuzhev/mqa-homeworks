# Домашнее задание к занятию "2.6 Espresso"

Любые вопросы по решению задач задавайте в чате учебной группы.

---

## Задание 1. Реализация теста на проверку "Intent"

### Шаг 1. Запуск проекта в Android Studio

- Откройте Android Studio
- Откройте свой проект из домашнего задания [2.5 Espresso](https://github.com/netology-code/mqa-homeworks/blob/main/2.5%20Espresso/2.5.md) 

### Шаг 2. Добавление новых зависимостей

- Откройте файл /app/build.gradle
- Проверьте наличие и при необходимости добавьте следующие зависимости:
```java
dependencies {
     ... // Имеющиеся зависимости не трогаем 
     'androidTestImplementation ‘androidx.test.espresso:espresso-intents:3.4.0'
     } 
```

### Шаг 3. Написание теста

- Выберите один из двух вариантов реализации проверки Intent
- Напишите тест на открытие правого меню, проверку элемента "Settings" и нажатие на него
- Добавте проверку срабатывания intent ()

Шаблон теста:
```java
//@Rule ... if you are choose first realization
@Test
public void testName() {
    ViewInteraction element = onView(
        withId(R.id.найденный id)
    );
    element.check(
    matches(Условия проверки);
    //Intents... if you are choose another
    element.perform(Клик); //Для запуска intent
    ... // Проверяем intent, он должен передавать url и action
}
```

### Шаг 4. Запуск теста

- Запустите тест одним из известных вам способов
- Проверьте что тест прошел успешно
- Экспортируйте отчет в файл html 

### Шаг 5. Отправить на проверку

- Выполните commit изменений
- Запушьте результат в ранее созданный репозиторий
- Отчет положите в issues репозитория на github
- Отправьте ссылку на репозиторий на проверку

## Задание 2. Реализация теста с использованием "IdlingResources"

### Шаг 1. Запуск проекта в Android Studio

- Откройте Android Studio
- Откройте свой проект из домашнего задания [2.5 Espresso](https://github.com/netology-code/mqa-homeworks/blob/main/2.5%20Espresso/2.5.md) 

### Шаг 2. Добавление новых зависимостей

- Откройте файл /app/build.gradle
- Проверьте наличие и при необходимости добавьте следующие зависимости:
```java
dependencies {
     ... // Имеющиеся зависимости не трогаем 
     implementation ‘androidx.test.espresso:espresso-idling-resources:3.4.0’
     } 
```

### Шаг 3. Написание теста

- Реализуйте класс EspressoIdlingResources по учебному материалу
- Найдите реализацию "загрузки" списка в коде приложения
- Добавте increment перед началом "загрузки" списка
- Добавте decrement после "загрузки" списка
- Напишите тест на открытие "Галлереи" и проверку отображения элемента с числом "7"

Шаблон теста:
```java
//@Befor... Тут подключаемся к счетчику
//@After... Тут отключаемся от счетчика
@Test
public void testName() {
    ViewInteraction element = onView(
        withId(R.id.найденный id)
    );
    element.perform(Действие);
    element.check(
    matches(Условия проверки);
}
```

### Шаг 4. Запуск теста

- Запустите тест одним из известных вам способов
- Проверьте что тест прошел успешно
- Экспортируйте отчет в файл html 

### Шаг 5. Отправить на проверку

- Выполните commit изменений
- Запушьте результат в ранее созданный репозиторий
- Отчет положите в issues репозитория на github
- Отправьте ссылку на репозиторий на проверку

## Дополнительно

- Реализовать кастомный ViewMatcher из учебного материала
- Реализовать кастомный ViewAssertions из учебного материала
- Добавить проверки с их использованием во второе задание
